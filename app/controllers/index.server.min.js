function requireLogin(a,b,c){a.user?c():b.redirect("/signin")}function requireLogin(a,b,c){a.user?c():b.redirect("/signin")}var User=require("mongoose").model("User");exports.render=function(a,b){a.session&&a.session.user?User.findOne({username:a.session.user.username},function(c,d){d?(b.locals.user=d,console.log("this pass by the locals variabl"),b.render("index",{user:JSON.stringify(b.locals.user)})):(a.session.reset(),b.redirect("/signin"))}):b.redirect("/signin")},exports.logout=function(a,b){a.session.reset(),b.redirect("/")};var User=require("mongoose").model("User");exports.render=function(a,b){a.session&&a.session.user?User.findOne({username:a.session.user.username},function(c,d){d?(b.locals.user=d,console.log("this pass by the locals variabl"),b.render("index",{user:JSON.stringify(b.locals.user)})):(a.session.reset(),b.redirect("/signin"))}):b.redirect("/signin")},exports.logout=function(a,b){a.session.reset(),b.redirect("/")};