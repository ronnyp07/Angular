"use strict";var mongoose=require("mongoose"),errorHandler=require("./errors.server.controller"),Template=mongoose.model("Tempresult"),getErrorMessage=function(a){var b="";if(a.code)switch(a.code){case 11e3:case 11001:b="Este Pais ya existe";break;default:b="Se ha producido un error"}else for(var c in a.errors)a.errors[c].message&&(b=a.errors[c].message);return b};exports.create=function(a,b){var c=new Template(a.body);c.user=a.user,c.save(function(a){return a?11e3===a.code?b.status(401).send({message:"Pais ya existe"}):b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.listpage=function(a,b){var c=a.query.count||5,d=a.query.page||1,e={start:(d-1)*c,count:c},f={filters:{mandatory:{contains:{reportname:a.query.filter}}}};console.log(e),Template.find().filter(f).page(e,function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.read=function(a,b){console.log("the request read"),b.jsonp(a.template)},exports.update=function(a,b){var c=a.template;c.reportname=a.body.reportname,c.tipomuestra=a.body.tipomuestra,c.resultado=a.body.resultado,c.tecnica=a.body.tecnica,c.TemplateTelefono=a.body.TemplateTelefono,c.nota=a.body.nota,c.diagnostico=a.body.diagnostico,c.save(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports["delete"]=function(a,b){var c=a.Template;c.remove(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.TemplateByID=function(a,b,c,d){Template.findById(d).populate("user","displayName").exec(function(b,e){return b?(console.log("passbyhere"),c(b)):e?(a.template=e,console.log("passbyhere"),void c()):c(new Error("Failed to load Template "+d))})},exports.hasAuthorization=function(a,b,c){return a.Template.user.id!==a.user.id?b.status(403).send("User is not authorized"):void c()},exports.lastTemplate=function(a,b,c){Template.nextCount(function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})};var mongoose=require("mongoose"),errorHandler=require("./errors.server.controller"),Template=mongoose.model("Tempresult"),getErrorMessage=function(a){var b="";if(a.code)switch(a.code){case 11e3:case 11001:b="Este Pais ya existe";break;default:b="Se ha producido un error"}else for(var c in a.errors)a.errors[c].message&&(b=a.errors[c].message);return b};exports.create=function(a,b){var c=new Template(a.body);c.user=a.user,c.save(function(a){return a?11e3===a.code?b.status(401).send({message:"Pais ya existe"}):b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.listpage=function(a,b){var c=a.query.count||5,d=a.query.page||1,e={start:(d-1)*c,count:c},f={filters:{mandatory:{contains:{reportname:a.query.filter}}}};console.log(e),Template.find().filter(f).page(e,function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.read=function(a,b){console.log("the request read"),b.jsonp(a.template)},exports.update=function(a,b){var c=a.template;c.reportname=a.body.reportname,c.tipomuestra=a.body.tipomuestra,c.resultado=a.body.resultado,c.tecnica=a.body.tecnica,c.TemplateTelefono=a.body.TemplateTelefono,c.nota=a.body.nota,c.diagnostico=a.body.diagnostico,c.save(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports["delete"]=function(a,b){var c=a.Template;c.remove(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.TemplateByID=function(a,b,c,d){Template.findById(d).populate("user","displayName").exec(function(b,e){return b?(console.log("passbyhere"),c(b)):e?(a.template=e,console.log("passbyhere"),void c()):c(new Error("Failed to load Template "+d))})},exports.hasAuthorization=function(a,b,c){return a.Template.user.id!==a.user.id?b.status(403).send("User is not authorized"):void c()},exports.lastTemplate=function(a,b,c){Template.nextCount(function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})};var mongoose=require("mongoose"),errorHandler=require("./errors.server.controller"),Template=mongoose.model("Tempresult"),getErrorMessage=function(a){var b="";if(a.code)switch(a.code){case 11e3:case 11001:b="Este Pais ya existe";break;default:b="Se ha producido un error"}else for(var c in a.errors)a.errors[c].message&&(b=a.errors[c].message);return b};exports.create=function(a,b){var c=new Template(a.body);c.user=a.user,c.save(function(a){return a?11e3===a.code?b.status(401).send({message:"Pais ya existe"}):b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.listpage=function(a,b){var c=a.query.count||5,d=a.query.page||1,e={start:(d-1)*c,count:c},f={filters:{mandatory:{contains:{reportname:a.query.filter}}}};console.log(e),Template.find().filter(f).page(e,function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.read=function(a,b){console.log("the request read"),b.jsonp(a.template)},exports.update=function(a,b){var c=a.template;c.reportname=a.body.reportname,c.tipomuestra=a.body.tipomuestra,c.resultado=a.body.resultado,c.tecnica=a.body.tecnica,c.TemplateTelefono=a.body.TemplateTelefono,c.nota=a.body.nota,c.diagnostico=a.body.diagnostico,c.save(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports["delete"]=function(a,b){var c=a.Template;c.remove(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.TemplateByID=function(a,b,c,d){Template.findById(d).populate("user","displayName").exec(function(b,e){return b?(console.log("passbyhere"),c(b)):e?(a.template=e,console.log("passbyhere"),void c()):c(new Error("Failed to load Template "+d))})},exports.hasAuthorization=function(a,b,c){return a.Template.user.id!==a.user.id?b.status(403).send("User is not authorized"):void c()},exports.lastTemplate=function(a,b,c){Template.nextCount(function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})};var mongoose=require("mongoose"),errorHandler=require("./errors.server.controller"),Template=mongoose.model("Tempresult"),getErrorMessage=function(a){var b="";if(a.code)switch(a.code){case 11e3:case 11001:b="Este Pais ya existe";break;default:b="Se ha producido un error"}else for(var c in a.errors)a.errors[c].message&&(b=a.errors[c].message);return b};exports.create=function(a,b){var c=new Template(a.body);c.user=a.user,c.save(function(a){return a?11e3===a.code?b.status(401).send({message:"Pais ya existe"}):b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.listpage=function(a,b){var c=a.query.count||5,d=a.query.page||1,e={start:(d-1)*c,count:c},f={filters:{mandatory:{contains:{reportname:a.query.filter}}}};console.log(e),Template.find().filter(f).page(e,function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.read=function(a,b){console.log("the request read"),b.jsonp(a.template)},exports.update=function(a,b){var c=a.template;c.reportname=a.body.reportname,c.tipomuestra=a.body.tipomuestra,c.resultado=a.body.resultado,c.tecnica=a.body.tecnica,c.TemplateTelefono=a.body.TemplateTelefono,c.nota=a.body.nota,c.diagnostico=a.body.diagnostico,c.save(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports["delete"]=function(a,b){var c=a.Template;c.remove(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.TemplateByID=function(a,b,c,d){Template.findById(d).populate("user","displayName").exec(function(b,e){return b?(console.log("passbyhere"),c(b)):e?(a.template=e,console.log("passbyhere"),void c()):c(new Error("Failed to load Template "+d))})},exports.hasAuthorization=function(a,b,c){return a.Template.user.id!==a.user.id?b.status(403).send("User is not authorized"):void c()},exports.lastTemplate=function(a,b,c){Template.nextCount(function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})};var mongoose=require("mongoose"),errorHandler=require("./errors.server.controller"),Template=mongoose.model("Tempresult"),getErrorMessage=function(a){var b="";if(a.code)switch(a.code){case 11e3:case 11001:b="Este Pais ya existe";break;default:b="Se ha producido un error"}else for(var c in a.errors)a.errors[c].message&&(b=a.errors[c].message);return b};exports.create=function(a,b){var c=new Template(a.body);c.user=a.user,c.save(function(a){return a?11e3===a.code?b.status(401).send({message:"Pais ya existe"}):b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.listpage=function(a,b){var c=a.query.count||5,d=a.query.page||1,e={start:(d-1)*c,count:c},f={filters:{mandatory:{contains:{reportname:a.query.filter}}}};console.log(e),Template.find().filter(f).page(e,function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.read=function(a,b){console.log("the request read"),b.jsonp(a.template)},exports.update=function(a,b){var c=a.template;c.reportname=a.body.reportname,c.tipomuestra=a.body.tipomuestra,c.resultado=a.body.resultado,c.tecnica=a.body.tecnica,c.TemplateTelefono=a.body.TemplateTelefono,c.nota=a.body.nota,c.diagnostico=a.body.diagnostico,c.save(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports["delete"]=function(a,b){var c=a.Template;c.remove(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.TemplateByID=function(a,b,c,d){Template.findById(d).populate("user","displayName").exec(function(b,e){return b?(console.log("passbyhere"),c(b)):e?(a.template=e,console.log("passbyhere"),void c()):c(new Error("Failed to load Template "+d))})},exports.hasAuthorization=function(a,b,c){return a.Template.user.id!==a.user.id?b.status(403).send("User is not authorized"):void c()},exports.lastTemplate=function(a,b,c){Template.nextCount(function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})};var mongoose=require("mongoose"),errorHandler=require("./errors.server.controller"),Template=mongoose.model("Tempresult"),getErrorMessage=function(a){var b="";if(a.code)switch(a.code){case 11e3:case 11001:b="Este Pais ya existe";break;default:b="Se ha producido un error"}else for(var c in a.errors)a.errors[c].message&&(b=a.errors[c].message);return b};exports.create=function(a,b){var c=new Template(a.body);c.user=a.user,c.save(function(a){return a?11e3===a.code?b.status(401).send({message:"Pais ya existe"}):b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.listpage=function(a,b){var c=a.query.count||5,d=a.query.page||1,e={start:(d-1)*c,count:c},f={filters:{mandatory:{contains:{reportname:a.query.filter}}}};console.log(e),Template.find().filter(f).page(e,function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.read=function(a,b){console.log("the request read"),b.jsonp(a.template)},exports.update=function(a,b){var c=a.template;c.reportname=a.body.reportname,c.tipomuestra=a.body.tipomuestra,c.resultado=a.body.resultado,c.tecnica=a.body.tecnica,c.TemplateTelefono=a.body.TemplateTelefono,c.nota=a.body.nota,c.diagnostico=a.body.diagnostico,c.save(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports["delete"]=function(a,b){var c=a.Template;c.remove(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.TemplateByID=function(a,b,c,d){Template.findById(d).populate("user","displayName").exec(function(b,e){return b?(console.log("passbyhere"),c(b)):e?(a.template=e,console.log("passbyhere"),void c()):c(new Error("Failed to load Template "+d))})},exports.hasAuthorization=function(a,b,c){return a.Template.user.id!==a.user.id?b.status(403).send("User is not authorized"):void c()},exports.lastTemplate=function(a,b,c){Template.nextCount(function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})};var mongoose=require("mongoose"),errorHandler=require("./errors.server.controller"),Template=mongoose.model("Tempresult"),getErrorMessage=function(a){var b="";if(a.code)switch(a.code){case 11e3:case 11001:b="Este Pais ya existe";break;default:b="Se ha producido un error"}else for(var c in a.errors)a.errors[c].message&&(b=a.errors[c].message);return b};exports.create=function(a,b){var c=new Template(a.body);c.user=a.user,c.save(function(a){return a?11e3===a.code?b.status(401).send({message:"Pais ya existe"}):b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.listpage=function(a,b){var c=a.query.count||5,d=a.query.page||1,e={start:(d-1)*c,count:c},f={filters:{mandatory:{contains:{reportname:a.query.filter}}}};console.log(e),Template.find().filter(f).page(e,function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.read=function(a,b){console.log("the request read"),b.jsonp(a.template)},exports.update=function(a,b){var c=a.template;c.reportname=a.body.reportname,c.tipomuestra=a.body.tipomuestra,c.resultado=a.body.resultado,c.tecnica=a.body.tecnica,c.TemplateTelefono=a.body.TemplateTelefono,c.nota=a.body.nota,c.diagnostico=a.body.diagnostico,c.save(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports["delete"]=function(a,b){var c=a.Template;c.remove(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.TemplateByID=function(a,b,c,d){Template.findById(d).populate("user","displayName").exec(function(b,e){return b?(console.log("passbyhere"),c(b)):e?(a.template=e,console.log("passbyhere"),void c()):c(new Error("Failed to load Template "+d))})},exports.hasAuthorization=function(a,b,c){return a.Template.user.id!==a.user.id?b.status(403).send("User is not authorized"):void c()},exports.lastTemplate=function(a,b,c){Template.nextCount(function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})};var mongoose=require("mongoose"),errorHandler=require("./errors.server.controller"),Template=mongoose.model("Tempresult"),getErrorMessage=function(a){var b="";if(a.code)switch(a.code){case 11e3:case 11001:b="Este Pais ya existe";break;default:b="Se ha producido un error"}else for(var c in a.errors)a.errors[c].message&&(b=a.errors[c].message);return b};exports.create=function(a,b){var c=new Template(a.body);c.user=a.user,c.save(function(a){return a?11e3===a.code?b.status(401).send({message:"Pais ya existe"}):b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.listpage=function(a,b){var c=a.query.count||5,d=a.query.page||1,e={start:(d-1)*c,count:c},f={filters:{mandatory:{contains:{reportname:a.query.filter}}}};console.log(e),Template.find().filter(f).page(e,function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.read=function(a,b){console.log("the request read"),b.jsonp(a.template)},exports.update=function(a,b){var c=a.template;c.reportname=a.body.reportname,c.tipomuestra=a.body.tipomuestra,c.resultado=a.body.resultado,c.tecnica=a.body.tecnica,c.TemplateTelefono=a.body.TemplateTelefono,c.nota=a.body.nota,c.diagnostico=a.body.diagnostico,c.save(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports["delete"]=function(a,b){var c=a.Template;c.remove(function(a){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})},exports.TemplateByID=function(a,b,c,d){Template.findById(d).populate("user","displayName").exec(function(b,e){return b?(console.log("passbyhere"),c(b)):e?(a.template=e,console.log("passbyhere"),void c()):c(new Error("Failed to load Template "+d))})},exports.hasAuthorization=function(a,b,c){return a.Template.user.id!==a.user.id?b.status(403).send("User is not authorized"):void c()},exports.lastTemplate=function(a,b,c){Template.nextCount(function(a,c){return a?b.status(400).send({message:errorHandler.getErrorMessage(a)}):void b.jsonp(c)})};